#!/bin/sh
# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║ Figlet Forge - Eidosian Typography Engine                                 ║
# ╚═══════════════════════════════════════════════════════════════════════════╝
# An Eidosian reimplementation extending the original pyfiglet package
# (itself a pure Python port of FIGlet) with:
# - Full colorized ANSI code support for vibrant text art
# - Unicode character rendering with comprehensive mapping
# - Expanded font ecosystem with careful attention to licensing
# - Intelligent fallbacks for complete backward compatibility
# - Significant performance optimizations without sacrificing quality
# - Enhanced maintainability through modern Python practices
# - Comprehensive documentation for all use cases
#
# A central component of the Eidosian Forge ecosystem.

# Set path to ensure module visibility
script_dir="$(dirname "$0")"
cd "$script_dir"/.. || {
  echo "Error: Cannot change to parent directory of $script_dir" >&2
  exit 1
}

# Capture current directory and export PYTHONPATH separately
current_dir="$(pwd)"
export PYTHONPATH="$current_dir${PYTHONPATH:+:$PYTHONPATH}"

# Check if module is available
if ! python3 -c "import figlet_forge.cli" 2>/dev/null; then
  # Try to use installed package if module not found in development environment
  exec python3 -m figlet_forge.cli "$@"
  exit $?
fi

# Execute the forge with explicit module reference
python3 -m figlet_forge.cli "$@"
